################################################################################
# Application Configuration                                                     #
#                                                                                #
# Note: Values are unchanged; only organized and commented for clarity.          #
################################################################################

# ----------------------------------------------------------------------------
# Core
# ----------------------------------------------------------------------------
spring.application.name=cms-backend


# ----------------------------------------------------------------------------
# Server
# ----------------------------------------------------------------------------
server.port=8080
server.servlet.context-path=/api

# Error responses: avoid leaking details to clients
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.whitelabel.enabled=false


# ----------------------------------------------------------------------------
# Database (MySQL)
# ----------------------------------------------------------------------------
spring.datasource.url=jdbc:mysql://127.0.0.1:3306/clinic_management?sslMode=DISABLED&allowPublicKeyRetrieval=true&useUnicode=true&characterEncoding=utf8
spring.datasource.username=clinic_user
spring.datasource.password=clinic_password_2024!
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver


# ----------------------------------------------------------------------------
# JPA / Hibernate
# ----------------------------------------------------------------------------
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true


# ----------------------------------------------------------------------------
# Redis
# ----------------------------------------------------------------------------
spring.data.redis.host=localhost
spring.data.redis.port=6379

# ----------------------------------------------------------------------------
# Security
# ----------------------------------------------------------------------------

# JWT (consider using environment variables in production)
app.security.jwt.secret=Iwillchangethisjwtsecretkeylateronithinkthiswillbeenoughforthedevelopment.........asldfkjal;sdf
# 15 minutes
app.security.jwt.access-token-expiry=900000
# 7 days
app.security.jwt.refresh-token-expiry=604800000
# 30 days
app.security.jwt.remember-me-expiry=2592000000
app.security.jwt.issuer=clinic-management-system
app.security.jwt.audience=clinic-users

# Cookies
app.security.cookie.secure=true
app.security.cookie.http-only=true
app.security.cookie.same-site=Strict
app.security.cookie.domain=localhost
app.security.cookie.access-token-name=clinic_access_token
app.security.cookie.refresh-token-name=clinic_refresh_token

# Password policy
app.security.password.min-length=8
app.security.password.require-uppercase=true
app.security.password.require-lowercase=true
app.security.password.require-numbers=true
app.security.password.require-special-chars=true
app.security.password.max-age-days=90
app.security.password.history-count=5
app.security.password.bcrypt-strength=12

# Account lockout
app.security.lockout.max-failed-attempts=5
app.security.lockout.lockout-duration-minutes=30
app.security.lockout.reset-time-minutes=60

# Rate limits
app.security.rate-limit.registration-per-ip-per-hour=5
app.security.rate-limit.login-per-ip-per-minute=10
app.security.rate-limit.password-reset-per-email-per-day=3
app.security.rate-limit.api-calls-per-user-per-minute=100
app.security.rate-limit.verification-resend-per-email-per-day=10
app.security.rate-limit.twofactor-per-user-per-5min=5

# Registration-specific rate limits
app.security.rate-limit.registration-per-ip-per-minute=5
app.security.rate-limit.registration-window-seconds=60

# OTP
app.security.otp.expiry-minutes=1440
app.security.otp.length=6
app.security.otp.max-attempts=3

# 2FA / Sessions
app.security.2fa.challenge.ttl-seconds=300
app.security.sessions.max-per-user=10


# ----------------------------------------------------------------------------
# Mail (Gmail typically requires an App Password; 'from' should match account)
# ----------------------------------------------------------------------------
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=surajpaudel4833@gmail.com
spring.mail.password=pucd judw jhlc rnmv
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com


# ----------------------------------------------------------------------------
# Internationalization (messages)
# ----------------------------------------------------------------------------
spring.messages.basename=messages
